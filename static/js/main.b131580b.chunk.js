(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,n){},113:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return N}));var a=n(1),c=n.n(a),r=n(49),s=n.n(r),i=(n(99),n(16)),o=(n(100),n(0)),u=n.n(o),j=n(3),l=n(146),d=n(147),b=n(67),h=n(84),f=n(7),m=function(e){var t;Object(a.useEffect)((function(){t&&t.scrollIntoView({smooth:"scroll-behavior"})}));var n=Object(a.useState)(),r=Object(i.a)(n,2),s=r[0],o=r[1],m=Object(a.useContext)(N),x=m.auth,O=m.firestore,p=Object(b.a)(x),g=Object(i.a)(p,1)[0],v=Object(h.a)(O.collection("messages")),y=Object(i.a)(v,1)[0],w=c.a.createRef(),k=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==s&&void 0!==s){e.next=2;break}return e.abrupt("return");case 2:O.collection("messages").add({uid:g.uid,userName:g.displayName,messageText:s,messageId:Date.now()}),o("");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Enter"===t.code){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),""!==s&&void 0!==s){e.next=5;break}return e.abrupt("return");case 5:O.collection("messages").add({uid:g.uid,userName:g.displayName,messageText:s,messageId:Date.now()}),o("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"chat",ref:w,children:[Object(f.jsx)("h1",{children:"Welcome to chat!"}),Object(f.jsx)("div",{className:"chat-box",children:y?y.sort((function(e,t){return e.messageId-t.messageId})).map((function(e,n){var a;return a=g.uid===e.uid?{backgroundColor:"rgb(138, 138, 240)",color:"white"}:{backgroundColor:"rgb(230, 228, 228)"},Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"chat-message",ref:function(e){t=e},children:[Object(f.jsx)("div",{className:"chat-message-name",style:a,children:e.userName}),Object(f.jsx)("div",{className:"chat-message-text",children:e.messageText})]},n),Object(f.jsx)("div",{ref:w})]})})):Object(f.jsx)(f.Fragment,{})}),Object(f.jsx)(l.a,{onKeyDown:C,onChange:function(e){return o(e.target.value)},value:s,id:"outlined-basic",className:"chat-area",label:"Message",variant:"outlined",multiline:!0,maxRows:4,style:{marginBottom:10},inputProps:{style:{fontSize:18,fontWeight:900,fontFamily:"Roboto"}},InputLabelProps:{style:{fontSize:15,fontWeight:900}}}),Object(f.jsx)(d.a,{onClick:k,variant:"contained",style:{marginRight:10,fontSize:15,fontWeight:900,fontFamily:"Roboto"},children:"SEND"}),Object(f.jsx)(d.a,{onClick:function(){return x.signOut()},style:{marginRight:10,fontSize:15,fontWeight:900,fontFamily:"Roboto"},color:"error",variant:"outlined",children:"LEAVE"})]})},x=function(e){var t=Object(a.useContext)(N),n=t.firebase,c=t.auth,r=function(){var e=Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new n.auth.GoogleAuthProvider,e.next=4,c.signInWithPopup(t);case 4:a=e.sent,a.user,e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"login",children:Object(f.jsx)(d.a,{onClick:r,variant:"contained",style:{marginRight:10,fontSize:20,fontWeight:900,fontFamily:"Roboto"},children:"Log in with google"})})},O=function(e){return Object(f.jsxs)("div",{className:"lds-roller",children:[Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{}),Object(f.jsx)("div",{})]})},p=n(82),g=n(25);var v=function(){var e=Object(a.useContext)(N),t=(e.firebase,e.auth),n=(e.firestore,Object(b.a)(t)),c=Object(i.a)(n,2),r=c[0];return c[1]?Object(f.jsx)("div",{className:"container",children:Object(f.jsx)(O,{})}):Object(f.jsx)(p.a,{children:Object(f.jsx)("div",{className:"container",children:r?Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.c,{children:[Object(f.jsx)(g.a,{path:"/chat",element:Object(f.jsx)(m,{})}),Object(f.jsx)(g.a,{path:"",element:Object(f.jsx)(m,{})})]})}):Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)(g.c,{children:[Object(f.jsx)(g.a,{path:"/login",element:Object(f.jsx)(x,{})}),Object(f.jsx)(g.a,{path:"",element:Object(f.jsx)(x,{})})]})})})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,149)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},w=n(59),N=(n(111),n(114),Object(a.createContext)(null)),k=(w.a.initializeApp({apiKey:"AIzaSyDxLZOm0Clw7_rzTcFXnJi1VKPpiTSJTM0",authDomain:"react-chat-f0c9d.firebaseapp.com",projectId:"react-chat-f0c9d",storageBucket:"react-chat-f0c9d.appspot.com",messagingSenderId:"1052476625633",appId:"1:1052476625633:web:c0c5e16d19673351705da0",measurementId:"G-LQW3HX1E8T"}),w.a.auth()),C=w.a.firestore();s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(N.Provider,{value:{firebase:w.a,auth:k,firestore:C},children:Object(f.jsx)(v,{})})}),document.getElementById("root")),y()},99:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.b131580b.chunk.js.map